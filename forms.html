<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>User Registration Form</title>
    <style>
      tr:hover {
        background-color: coral;
      }
      th, td {
        text-align: left;
      }


      body {
        font-family: Arial, sans-serif;
        background-color: #f4f4f9;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        flex-direction: column;
      }

      h2 {
        text-align: center;
        color: #333;
        margin-bottom: 10px;
        font-size: 20px;
      }

      form {
        background-color: #fff;
        padding: 15px;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        width: 100%;
        max-width: 600px;
        box-sizing: border-box;
        margin-bottom: 20px;
      }

      fieldset {
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 10px;
        margin-bottom: 10px;
      }

      legend {
        font-weight: bold;
        color: #555;
        font-size: 14px;
      }

      label {
        display: block;
        margin-bottom: 3px;
        color: #333;
        font-size: 12px;
      }

      input[type="text"],
      input[type="email"],
      input[type="date"],
      select,
      input[type="file"] {
        width: 100%;
        padding: 6px;
        margin-bottom: 10px;
        border: 1px solid #ddd;
        border-radius: 4px;
        box-sizing: border-box;
        font-size: 12px;
      }

      input[type="radio"],
      input[type="checkbox"] {
        margin-right: 5px;
      }

      input[type="submit"] {
        background-color: #5cb85c;
        color: white;
        border: none;
        padding: 8px 15px;
        font-size: 14px;
        border-radius: 4px;
        cursor: pointer;
        width: 100%;
        transition: background-color 0.3s;
      }

      input[type="submit"]:hover {
        background-color: #4cae4c;
      }

      .form-row {
        display: flex;
        gap: 10px;
        margin-bottom: 10px;
      }

      .form-row .form-group {
        flex: 1;
      }

      .checkbox-group,
      .radio-group {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
      }

      .checkbox-group label,
      .radio-group label {
        font-size: 12px;
      }

      #userTable {
        width: 100%;
        max-width: 600px;
        border-collapse: collapse;
        margin-top: 20px;
        font-size: 12px;
      }

      #userTable th,
      #userTable td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;
      }

      #userTable th {
        background-color: #f4f4f9;
        font-weight: bold;
      }

      .error {
        color: red;
        font-size: 12px;
        display: none;
      }

      @media (max-width: 600px) {
        .form-row {
          flex-direction: column;
        }

        h2 {
          font-size: 18px;
        }

        form {
          padding: 10px;
        }

        input[type="submit"] {
          font-size: 12px;
        }
      }
    </style>
  </head>
  <body>
    <h2>User Registration Form</h2>

    <form id="registrationForm" method="get" enctype="multipart/form-data">
      <fieldset>
        <legend>Basic Information</legend>
        <div class="form-row">
          <div class="form-group">
            <label for="full-name">Full Name:</label>
            <input type="text" id="full-name" name="full-name" required />
            <span id="fullNameError" class="error">Full name must be at least 3 characters long.</span>
          </div>
          <div class="form-group">
            <label for="email">Email Address:</label>
            <input type="email" id="email" name="email" required />
            <span id="emailError" class="error">Please enter a valid email address.</span>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label for="dob">Date of Birth:</label>
            <input type="date" id="dob" name="dob" required />
          </div>
        </div>
      </fieldset>

      <fieldset>
        <legend>Preferences</legend>
        <div class="form-row">
          <div class="form-group">
            <label>Gender:</label>
            <div class="radio-group">
              <input type="radio" id="male" name="gender" value="male" required />
              <label for="male">Male</label>
              <input type="radio" id="female" name="gender" value="female" required />
              <label for="female">Female</label>
              <input type="radio" id="other" name="gender" value="other" required />
              <label for="other">Other</label>
            </div>
          </div>
          <div class="form-group">
            <label for="skills">Skills:</label>
            <div class="checkbox-group">
              <input type="checkbox" id="html" name="skills[]" value="HTML" />
              <label for="html">HTML</label>
              <input type="checkbox" id="css" name="skills[]" value="CSS" />
              <label for="css">CSS</label>
              <input type="checkbox" id="javascript" name="skills[]" value="JavaScript" />
              <label for="javascript">JavaScript</label>
              <input type="checkbox" id="python" name="skills[]" value="Python" />
              <label for="python">Python</label>
            </div>
          </div>
        </div>
      </fieldset>

      <!-- <fieldset>
        <legend>Country Selection</legend>
        <div class="form-row">
          <div class="form-group">
            <label for="country">Select Your Country:</label>
            <select id="country" name="country" required>
              <option value="usa">United States</option>
              <option value="canada">Canada</option>
              <option value="uk">United Kingdom</option>
              <option value="india">India</option>
              <option value="australia">Australia</option>
              <option value="germany">Germany</option>
              <option value="france">France</option>
              <option value="italy">Italy</option>
              <option value="brazil">Brazil</option>
              <option value="japan">Japan</option>
            </select>
          </div>
        </div>
      </fieldset> -->

      <!-- <fieldset>
        <legend>Profile Picture</legend>
        <div class="form-row">
          <div class="form-group">
            <label for="profile-picture">Upload your profile picture:</label>
            <input type="file" id="profile-picture" name="profile-picture" accept="image/*" required />
          </div>
        </div>
      </fieldset> -->

      <input type="submit" value="Submit" />
    </form>

    <table id="userTable" border="1">
      <thead>
        <tr>
          <th>Full Name</th>
          <th>Email</th>
          <th>Age</th>
          <th>Gender</th>
          <th>Skills</th>
          <!-- <th>Country</th> -->
          <th>Date</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>

    <script>
      document.getElementById("registrationForm").addEventListener("submit", function (event) {
        event.preventDefault();
    
        const fullName = document.getElementById("full-name").value;
        const email = document.getElementById("email").value;
        const dob = document.getElementById("dob").value;
        const gender = document.querySelector('input[name="gender"]:checked').value;
    
        const skillsCheckboxes = document.querySelectorAll('input[name="skills[]"]:checked');
        const skills = Array.from(skillsCheckboxes).map((checkbox) => checkbox.value).join(", ");
    
        const fullNameError = document.getElementById("fullNameError");
        const emailError = document.getElementById("emailError");
    
        fullNameError.style.display = "none";
        emailError.style.display = "none";
    
        if (fullName.length < 3) {
          fullNameError.style.display = "block";
          return;
        }
    
        const emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
        if (!emailPattern.test(email)) {
          emailError.style.display = "block";
          return;
        }
    
        const tableRows = document.querySelectorAll("#userTable tbody tr");
        for (let row of tableRows) {
          const existingFullName = row.cells[0].textContent;
          const existingEmail = row.cells[1].textContent;
    
          if (existingFullName === fullName) {
            fullNameError.textContent = "This full name is already registered.";
            fullNameError.style.display = "block";
            return;
          }
    
          if (existingEmail === email) {
            emailError.textContent = "This email is already registered.";
            emailError.style.display = "block";
            return;
          }
        }
    
        const age = calculateAge(new Date(dob));
    
        const currentDate = new Date().toLocaleDateString();
    
        const tableBody = document.querySelector("#userTable tbody");
        const newRow = document.createElement("tr");
        newRow.innerHTML = `
          <td>${fullName}</td>
          <td>${email}</td>
          <td>${age}</td>
          <td>${gender}</td>
          <td>${skills}</td>
          <td>${currentDate}</td>
          <td><button class="delete-btn">Delete</button></td>
        `;
        tableBody.appendChild(newRow);
    
        this.reset();
      });

      document.querySelector("#userTable tbody").addEventListener("click", function (event) {
        if (event.target && event.target.classList.contains("delete-btn")) {
        const row = event.target.closest("tr");        
        row.remove()
      }
      })
    
      function calculateAge(dob) {
        const today = new Date();
        let age = today.getFullYear() - dob.getFullYear();
        const monthDiff = today.getMonth() - dob.getMonth();
        if (monthDiff < 0 || (monthDiff === 0 && today.getDate() < dob.getDate())) {
          age--;
        }
        return age;
      }

     
    </script>
    
  </body>
</html>